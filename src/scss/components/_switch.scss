/// Pure css switch.   
/// $key: `$size $active-color radius round`
/// 
/// @group components
/// @example markup - Markup
/// <div class="switch">
///   <input type="checkbox" id="switch1" name="switch">
///   <label for="switch1"></label>
/// </div>
/// @example scss - Usage
/// .switch { @include switch(30px #3DD754 round); }
///
/// @link http://creatiointl.org/gallery/william/rocket/components-switch.php demo
/// @link https://github.com/ganlanyuan/rocket full document

@mixin switch($key: 20px){
  $radius: ro-get($key, 'radius');
  $round: ro-get($key, 'round');
  $size: ro-get-type($key, 'number', false, 20px);
  $active-color: ro-get-type($key, 'color', false, #3DD754);
  
  // change em, rem to px
  $size: em($size);
  $border: ($size / 8);
  $radius-val: ($size / 6);

  > input {
    position: absolute; 
    left: -9999px;
  }

  > input {

    // normal style
    + label {
      display: inline-block;
      padding: $border ($size * 0.85) $border $border;
      height: $size;
      line-height: $size;
      background-color: #ddd;
      transition: padding 0.3s ease 0s, background-color 0.3s ease 0s;
      @if $radius {
        border-radius: $radius-val;
      } @else if $round {
        border-radius: $ro-button-round;
      }

      &:after {
        content: '';
        display: inline-block;
        width: $size;
        height: $size;
        background-color: #fff;
        box-shadow: 0 ($border / 1) $border 0 rgba(0, 0, 0, 0.2);
        @if $radius {
          border-radius: $radius-val;
        } @else if $round {
          border-radius: $ro-button-round;
        }
      }
    }

    // active style
    &:checked + label {
      background-color: $active-color;
      padding: $border $border $border ($size * 0.85);
    }
  }
}
